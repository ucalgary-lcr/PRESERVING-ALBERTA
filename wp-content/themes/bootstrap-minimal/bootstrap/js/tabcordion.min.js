(function(){function t(t){$(t.target).prev(".panel-heading").find("i.glyphicon").toggleClass("glyphicon-chevron-down glyphicon-chevron-up")}var e;$.fn.tabcordion=function(t){return this.each(function(){var n,i;n=$(this),"object"==typeof t&&(i=n.data("tabcordion")||new e(this,t))})},$.fn.tabcordion.defaults={resizeEl:null,onResize:!0,delay:500,breakWidth:500,tabs:{panelTitleTag:"h4"},accordion:{elementId:"accordion"},scheduler:null},$(this).on("show.bs.collapse",t),$(this).on("hide.bs.collapse",t),e=function(){function t(t,e){this.el=t,this.$el=$(t),this.options=$.extend({},$.fn.tabcordion.defaults,{resizeEl:this.$el},e),this.options.onResize&&(this.proxy=$.proxy(this.eventHandler,this),$(window).on("resize",this.proxy)),this.onResize()}return t.prototype.getTemplates=function(){var t={};return t.heading='<div class="panel-heading"><'+this.options.tabs.panelTitleTag+' class="panel-title"><a class="accordion-toggle" data-toggle="collapse" data-parent="#'+this.options.accordion.elementId+'" href="{{ target }}_accordion">{{{ title }}}<i class="glyphicon glyphicon-chevron-down"></i></a></'+this.options.tabs.panelTitleTag+"></div>",t.content='<div id="{{ id }}_accordion" class="panel-collapse collapse"><div class="panel-body">{{{ content }}}</div></div>',t.containerStart='<div class="panel-group" id="accordion">',t.containerItemStart='<div class="panel panel-default">',t.containerItemEnd="</div>",t.containerEnd="</div>",t},t.prototype.collapse2tab=function(){this.$el.find(" > #"+this.options.accordion.elementId).remove(),this.$el.find(" > .nav-tabs").show(),this.$el.find(" > .tab-content").show()},t.prototype.tab2collapse=function(){if(this.$el.find(" > .nav-tabs").hide(),this.$el.find(" > .tab-content").hide(),0===this.$el.find("#accordion").length){var t={},e={heads:[],bodies:[]},n=this.getTemplates(),i="";if(t.titles=this.$el.find("> .nav-tabs li a"),t.contents=this.$el.find("> .tab-content .tab-pane"),t.titles.length!=t.contents.length)return;for(var o=0;o<t.titles.length;o++){var a={},s={};a.target=$(t.titles[o]).attr("href"),a.title=$(t.titles[o]).html(),e.heads[o]=Mustache.render(n.heading,a),s.id=$(t.contents[o]).attr("id"),s.content=$(t.contents[o]).html(),e.bodies[o]=Mustache.render(n.content,s)}i+=n.containerStart;for(var o=0;o<t.titles.length;o++)i+=n.containerItemStart,i+=e.heads[o],i+=e.bodies[o],i+=n.containerItemEnd;i+=n.containerEnd,this.$el.prepend(i)}else this.$el.find(" >.panel-group .panel .panel-heading").show()},t.prototype.eventHandler=function(t){var e=this;return this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){return e.options.scheduler?e.options.scheduler(function(){return e.onResize(t)}):e.onResize(t)},this.options.delay)},t.prototype.onResize=function(){this.options.breakWidth>$(document).width()?this.tab2collapse():this.collapse2tab()},t}()}).call(this);